questions:
  - question: "Create a Pod manifest for a pod named 'pod-with-init' that has an initContainer. The initContainer should use the 'busybox' image and run the command 'sleep 2'. The main container should use the 'nginx' image."
    solution: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: pod-with-init
      spec:
        initContainers:
        - name: init-work
          image: busybox
          command: ['sh', '-c', 'sleep 2']
        containers:
        - name: main-app
          image: nginx
  - question: "Pod manifest with one initContainer that waits 5s before starting app container."
    solution: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: app-with-init
      spec:
        initContainers:
          - name: wait
            image: busybox
            command: ["sh","-c","sleep 5"]
        containers:
          - name: app
            image: nginx
  - question: "Pod manifest with a sidecar that tails a shared log file."
    solution: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: app-with-sidecar
      spec:
        volumes:
          - name: logs
            emptyDir: {}
        containers:
          - name: app
            image: busybox
            command: ["sh","-c","while true; do date >> /var/log/app/app.log; sleep 2; done"]
            volumeMounts:
              - name: logs
                mountPath: /var/log/app
          - name: log-tailer
            image: busybox
            command: ["sh","-c","tail -n+1 -F /var/log/app/app.log"]
            volumeMounts:
              - name: logs
                mountPath: /var/log/app
  - id: add-cmds-q17
    prompt: Run a pod named busybox with image busybox that runs indefinitely
    type: command
    schema_category: Command Syntax
    subject_matter: Pod design patterns
    metadata:
      id: add-cmds-q17
      category: Additional Commands
      response: kubectl run busybox --image=busybox --restart=Never -- /bin/sh -c "sleep
        3600"
      links:
      - https://kubernetes.io/docs/reference/kubectl/generated/kubectl_run/#:~:text=,restart%3DNever
      - https://kubernetes.io/docs/reference/kubectl/generated/kubectl_run/#:~:text=,argN)
  - id: add-cmds-q18
    prompt: List all pods
    type: command
    schema_category: Command Syntax
    subject_matter: Pod design patterns
    metadata:
      id: add-cmds-q18
      category: Additional Commands
      response: kubectl get pods
      links:
      - https://kubernetes.io/docs/reference/kubectl/quick-reference/#:~:text=kubectl%20get%20pods%20,all%20pods%20in%20the%20namespace
  - id: add-cmds-q19
    prompt: Describe pod busybox
    type: command
    schema_category: Command Syntax
    subject_matter: Pod design patterns
    metadata:
      id: add-cmds-q19
      category: Additional Commands
      response: kubectl describe pod busybox
      links:
      - https://kubernetes.io/docs/reference/kubectl/quick-reference/#:~:text=,pod)
  - id: add-cmds-q20
    prompt: Delete pod busybox
    type: command
    schema_category: Command Syntax
    subject_matter: Pod design patterns
    metadata:
      id: add-cmds-q20
      category: Additional Commands
      response: kubectl delete pod busybox
      links:
      - https://kubernetes.io/vi/docs/reference/kubectl/cheatsheet/#:~:text=cat%20pod.json%20,JSON%20%C4%91%C6%B0%E1%BB%A3c%20truy%E1%BB%81n%20v%C3%A0o%20std
  - id: manifests::deployments::add-init-container
    prompt: 'A Deployment needs an init container to prepare a volume. For the `test-init-container`
      Deployment in namespace `mars`, add an `initContainer` named `init-con`. It should
      use the `busybox:1.31.0` image and run a command to create a file: `echo ''check
      this out!'' > /tmp/web-content/index.html`. The init container should mount the
      existing `web-content` volume at `/tmp/web-content`.'
    type: yaml_edit
    category: YAML Editing Practice
    initial_files:
      deployment.yaml: "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: test-init-container\n\
        \  namespace: mars\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n  \
        \    id: test-init-container\n  template:\n    metadata:\n      labels:\n  \
        \      id: test-init-container\n    spec:\n      volumes:\n      - name: web-content\n\
        \        emptyDir: {}\n      containers:\n      - name: nginx\n        image:\
        \ nginx:1.17.3-alpine\n        volumeMounts:\n        - name: web-content\n\
        \          mountPath: /usr/share/nginx/html\n        ports:\n        - containerPort:\
        \ 80\n"
    correct_yaml: "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: test-init-container\n\
      \  namespace: mars\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n    \
      \  id: test-init-container\n  template:\n    metadata:\n      labels:\n      \
      \  id: test-init-container\n    spec:\n      volumes:\n      - name: web-content\n\
      \        emptyDir: {}\n      initContainers:\n      - name: init-con\n       \
      \ image: busybox:1.31.0\n        command: ['sh', '-c', 'echo \"check this out!\"\
      \ > /tmp/web-content/index.html']\n        volumeMounts:\n        - name: web-content\n\
      \          mountPath: /tmp/web-content\n      containers:\n      - name: nginx\n\
      \        image: nginx:1.17.3-alpine\n        volumeMounts:\n        - name: web-content\n\
      \          mountPath: /usr/share/nginx/html\n        ports:\n        - containerPort:\
      \ 80\n"
