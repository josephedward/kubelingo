questions:
- id: 5066bd1e
  question: Create a Pod manifest for a pod named 'pod-with-init' that has an initContainer.
    The initContainer should use the 'busybox' image and run the command 'sleep 2'.
    The main container should use the 'nginx' image.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - apiVersion: v1
    kind: Pod
    metadata:
      name: pod-with-init
    spec:
      initContainers:
      - name: init
        image: busybox
        command:
        - sh
        - -c
        - sleep 2
      containers:
      - name: nginx
        image: nginx
  source: https://kubernetes.io/docs/concepts/workloads/pods/init-containers/
  requirements:
    kind: Pod
    metadata:
      name: pod-with-init
    spec:
      containers:
      - name: nginx
        image: nginx
- id: c009d10e
  question: Pod manifest with one initContainer that waits 5s before starting app
    container.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - apiVersion: v1
    kind: Pod
    metadata:
      name: wait
    spec:
      initContainers:
      - name: init
        image: busybox
        command:
        - sh
        - -c
        - sleep 5
      containers:
      - name: nginx
        image: nginx
  source: /search?num=3
  requirements:
    kind: Pod
    metadata:
      name: wait
    spec:
      containers:
      - name: nginx
        image: nginx
- id: 184a2783
  question: Pod manifest with a sidecar that tails a shared log file.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - apiVersion: v1
    kind: Pod
    metadata:
      name: app-with-sidecar
    spec:
      containers:
      - command:
        - sh
        - -c
        - while true; do date >> /var/log/app/app.log; sleep 2; done
        image: busybox
        name: app
        volumeMounts:
        - mountPath: /var/log/app
          name: logs
      - command:
        - sh
        - -c
        - tail -n+1 -F /var/log/app/app.log
        image: busybox
        name: log-tailer
        volumeMounts:
        - mountPath: /var/log/app
          name: logs
      volumes:
      - emptyDir: {}
        name: logs
  source: https://kubernetes.io/docs/concepts/cluster-administration/logging/
  requirements:
    kind: Pod
    metadata:
      name: app-with-sidecar
    spec:
      containers:
      - name: app
        image: busybox
      - name: log-tailer
        image: busybox
- id: bb1c52ca
  question: Run a pod named busybox with image busybox that runs indefinitely.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - kubectl run busybox --image=busybox --restart=Never -- /bin/sh -c "sleep 3600"
  source: https://kubernetes.io/docs/reference/kubectl/generated/kubectl_run/#:~:text=,restart%3DNever
  requirements:
    kind: Pod
    metadata:
      name: busybox
    spec:
      containers:
      - name: busybox
        image: busybox
- id: 6816cee1
  question: List all pods.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - kubectl get pods
  source: https://kubernetes.io/docs/reference/kubectl/quick-reference/#:~:text=kubectl%20get%20pods%20,all%20pods%20in%20the%20namespace
- id: 3e1df3b7
  question: Describe pod busybox.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - kubectl describe pod busybox
  source: https://kubernetes.io/docs/reference/kubectl/quick-reference/#:~:text=,pod)
- id: d1a3f60b
  question: Delete pod busybox.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - kubectl delete pod busybox
  source: https://kubernetes.io/vi/docs/reference/kubectl/cheatsheet/#:~:text=cat%20pod.json%20,JSON%20%C4%91%C6%B0%E1%BB%A3c%20truy%E1%BB%81n%20v%C3%A0o%20std
- id: 39598cdc
  question: Create a Deployment named `test-init-container` in namespace `mars`. It
    should have one replica. The Pods should have an `nginx:1.17.3-alpine` container
    and an `initContainer` named `init-con` using `busybox:1.31.0`. An `emptyDir`
    volume `web-content` should be mounted to `/usr/share/nginx/html` in the nginx
    container and `/tmp/web-content` in the init container. The init container should
    run `echo 'check this out!' > /tmp/web-content/index.html`.
  success_criteria:
  - YAML syntax is valid
  - Required Kubernetes resources are defined
  - Resource specifications are complete
  suggestions:
  - apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: test-init-container
      namespace: mars
    spec:
      replicas: 1
      selector: &id001
        matchLabels:
          app: test-init-container
      template:
        metadata:
          labels:
            app: test-init-container
        spec:
          initContainers:
          - name: init-con
            image: busybox:1.31.0
            command:
            - sh
            - -c
            - echo 'check this out!' > /tmp/web-content/index.html
            volumeMounts:
            - name: web-content
              mountPath: /tmp/web-content
          containers:
          - name: nginx
            image: nginx:1.17.3-alpine
            ports:
            - containerPort: 80
            volumeMounts:
            - name: web-content
              mountPath: /usr/share/nginx/html
          volumes:
          - name: web-content
            emptyDir: {}
  source: https://wiki.aaronhatcher.com/kubernetes/CKAD/Labs/killer/17-initcontainer
  requirements:
    kind: Deployment
    metadata:
      name: test-init-container
    spec:
      replicas: 1
      selector: *id001
