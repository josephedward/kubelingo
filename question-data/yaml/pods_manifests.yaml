- id: manifests::pods::add-env-var
  prompt: "Edit the pod manifest to add an environment variable `GREETING` with the value `Hello World` to the `nginx` container."
  type: yaml_edit
  category: "YAML Editing Practice"
  initial_files:
    pod.yaml: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: my-pod
      spec:
        containers:
        - name: nginx
          image: nginx:1.14.2
  correct_yaml: |
    apiVersion: v1
    kind: Pod
    metadata:
      name: my-pod
    spec:
      containers:
      - name: nginx
        image: nginx:1.14.2
        env:
        - name: GREETING
          value: "Hello World"
- id: manifests::pods::add-volume-mount
  prompt: "Edit the pod manifest to mount a volume named `workdir` at path `/app/data`. The volume should be an `emptyDir`."
  type: yaml_edit
  category: "YAML Editing Practice"
  initial_files:
    pod.yaml: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: my-pod-with-volume
      spec:
        containers:
        - name: my-container
          image: busybox
          command: ["sleep", "3600"]
  correct_yaml: |
    apiVersion: v1
    kind: Pod
    metadata:
      name: my-pod-with-volume
    spec:
      containers:
      - name: my-container
        image: busybox
        command: ["sleep", "3600"]
        volumeMounts:
        - name: workdir
          mountPath: /app/data
      volumes:
      - name: workdir
        emptyDir: {}
- id: manifests::pods::readiness-probe
  prompt: "A Pod needs a readiness probe. Edit the Pod manifest for `pod6` to add a readiness probe that executes `cat /tmp/ready`. The probe should have an `initialDelaySeconds` of 5 and a `periodSeconds` of 10. The Pod's command should be `touch /tmp/ready && sleep 1d`."
  type: yaml_edit
  category: "YAML Editing Practice"
  initial_files:
    pod.yaml: |
      apiVersion: v1
      kind: Pod
      metadata:
        name: pod6
      spec:
        containers:
        - name: pod6
          image: busybox:1.31.0
          command:
          - "sh"
          - "-c"
          - "touch /tmp/ready && sleep 1d"
  correct_yaml: |
    apiVersion: v1
    kind: Pod
    metadata:
      name: pod6
    spec:
      containers:
      - name: pod6
        image: busybox:1.31.0
        command:
        - "sh"
        - "-c"
        - "touch /tmp/ready && sleep 1d"
        readinessProbe:
          exec:
            command:
            - cat
            - /tmp/ready
          initialDelaySeconds: 5
          periodSeconds: 10
